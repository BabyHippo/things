Array.prototype.pivotquick = function(options) {
    var defaults = { 
    xAxisField: 'tName',
    yAxisField: 'fName',
    zAxisField: 'fValue'
    }
        /*
    * The x-axis is the main horizontal row.
    * The z-axis is the sub horizontal row.
    * The y-axis is the left vertical column.
    */
    var data = this;
    data.config = $.extend(defaults, options)
    var yAxis = [];
    var matrix = [];
    data.forEach (function(row) {
        var yi = 1;
        var yObj = [];
        yObj = '{'+ yAxisField + ': ' + row[yAxisField] + '}';
        yi = yAxis.indexOf(yObj);
        if (yi==-1){
            yAxis.push(yObj );
            var yObj = {};
            yObj.Feature = row[yAxisField];
            yi = matrix.push(yObj);
            matrix[yi-1][row[xAxisField] ] = row[zAxisField];
            //matrix[yi-1]['FeatureSource'] = row;
        }else{
            matrix[yi][ row[xAxisField]] = row[zAxisField];
            //matrix[yi]['FeatureSource'] = row;
        };
    });
    return matrix
};
if (typeof jQuery !== 'undefined') {
    jQuery.pivot = function (o) {
        if (o instanceof Array) {
            return o.pivot()
        }
    }
}
    
 