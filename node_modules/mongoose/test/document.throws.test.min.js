var start=require("./common"),assert=require("assert"),mongoose=start.mongoose;describe("document: throws:",function(){it("test document throws mode fails with extra fields",function(){var b=mongoose.createConnection("mongodb://localhost/test-crash");var f=new mongoose.Schema({name:{type:String}},{strict:"throw"});var d=b.model("Foo",f);var g=new d({name:"bar"});try{var a=new d({name:"bar",baz:"bam"});throw new Error("Document did not throw with extra fields.")}catch(c){assert.equal(c.message,"Field `baz` is not in schema.")}b.close()})});