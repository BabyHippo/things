var BaseCommand=require("./base_command").BaseCommand,inherits=require("util").inherits,binaryutils=require("../utils");var KillCursorCommand=exports.KillCursorCommand=function(b,a){BaseCommand.call(this);this.cursorIds=a;this.db=b};inherits(KillCursorCommand,BaseCommand);KillCursorCommand.OP_KILL_CURSORS=2007;KillCursorCommand.prototype.toBinary=function(){var g=4+4+(4*4)+(this.cursorIds.length*8);var b=0;var a=new Buffer(g);a[b+3]=(g>>24)&255;a[b+2]=(g>>16)&255;a[b+1]=(g>>8)&255;a[b]=g&255;b=b+4;a[b+3]=(this.requestId>>24)&255;a[b+2]=(this.requestId>>16)&255;a[b+1]=(this.requestId>>8)&255;a[b]=this.requestId&255;b=b+4;a[b++]=0;a[b++]=0;a[b++]=0;a[b++]=0;a[b+3]=(KillCursorCommand.OP_KILL_CURSORS>>24)&255;a[b+2]=(KillCursorCommand.OP_KILL_CURSORS>>16)&255;a[b+1]=(KillCursorCommand.OP_KILL_CURSORS>>8)&255;a[b]=KillCursorCommand.OP_KILL_CURSORS&255;b=b+4;a[b++]=0;a[b++]=0;a[b++]=0;a[b++]=0;var f=this.cursorIds.length;a[b+3]=(f>>24)&255;a[b+2]=(f>>16)&255;a[b+1]=(f>>8)&255;a[b]=f&255;b=b+4;for(var d=0;d<this.cursorIds.length;d++){var e=this.cursorIds[d].getLowBits();a[b+3]=(e>>24)&255;a[b+2]=(e>>16)&255;a[b+1]=(e>>8)&255;a[b]=e&255;b=b+4;var c=this.cursorIds[d].getHighBits();a[b+3]=(c>>24)&255;a[b+2]=(c>>16)&255;a[b+1]=(c>>8)&255;a[b]=c&255;b=b+4}return a};