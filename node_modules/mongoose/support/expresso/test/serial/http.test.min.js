var assert=require("assert"),http=require("http");var server=http.createServer(function(b,c){if(b.method==="GET"){if(b.url==="/delay"){setTimeout(function(){c.writeHead(200,{});c.end("delayed")},200)}else{var a=JSON.stringify({name:"tj"});c.writeHead(200,{"Content-Type":"application/json; charset=utf8","Content-Length":a.length});c.end(a)}}else{var a="";b.setEncoding("utf8");b.addListener("data",function(d){a+=d});b.addListener("end",function(){c.writeHead(200,{});c.end(b.url+" "+a)})}});module.exports={"test assert.response()":function(a){assert.response(server,{url:"/",method:"GET"},{body:'{"name":"tj"}',status:200,headers:{"Content-Type":"application/json; charset=utf8"}},a)}};